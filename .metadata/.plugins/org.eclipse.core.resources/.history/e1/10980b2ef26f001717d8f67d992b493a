package photos;

import java.awt.List;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.nio.charset.Charset;
import java.util.ArrayList;

import javax.imageio.ImageIO;

import pictureObj.Pixel;

public class PhotoReader {
	private static Charset UTF8 = Charset.forName("UTF-8");
	
	public static void main(String[] args) throws IOException {
		photoReader("photos/test.jpg");
		writesPhotosValueToFile("outputFiles/test.txt");

	}
	
	
	public static void writesPhotosValueToFile(String path) throws IOException{
		Writer writer = new OutputStreamWriter(new FileOutputStream(path), UTF8);
		try{
			writer.write((char) 147);
		}catch(IOException e){
			System.out.println(e);
			System.out.println("If you're getting this Stefan, you fucked up somewhere in the file writer method");
		}
		finally{
			writer.close();
		}
	}

	public static void photoReader(String path) {
		ArrayList <Pixel> listOfPixels = new ArrayList<>();
		BufferedImage img = null;
		File f = null;
		int x = 0;
		int y = 0;

		// reads the image
		try {
			f = new File("photos/test.jpg");
			img = ImageIO.read(f);

		} catch (IOException e) {
			System.out.println("If you're getting this Stefan, you fucked up somewhere in the photo reader");
			System.out.println(e);
		}

		// gets the images width
		int imgWidth = img.getWidth();
		System.out.println("Width: " + imgWidth);

		// gets the images height
		int imgHeight = img.getHeight();
		System.out.println("Height: " + imgHeight);
		System.out.println();
		System.out.println();

		int pixel = img.getRGB(x, y);
		// gets the alpha values of the pixel
		int a = (pixel >> 24) & 0xFF;

		// gets the red values of the pixel
		int r = (pixel >> 16) & 0xFF;

		// gets the green values of the pixel
		int g = (pixel >> 8) & 0xFF;

		// gets the blue values of the pixel
		int b = pixel & 0xFF;

		// gets the pixels...theoretically
		do {
			for (int i = 0; i < imgWidth; i++) {

				Pixel newPixel = new Pixel();

				System.out.println("Co-ordinates: " + "X:" + x + ", Y:" + y);
				System.out.println("Alpha: " + a);
				System.out.println("Red: " + r);
				System.out.println("Green: " + g);
				System.out.println("Blue: " + b);
				
				newPixel.setAlpha(a);
				newPixel.setBlue(b);
				newPixel.setGreen(g);
				newPixel.setRed(r);
				newPixel.setxCoordinate(x);
				newPixel.setyCoordinate(y);
				
				listOfPixels.add(newPixel);
				
				
				

				x++;

				if (x - 1 == img.getWidth()) {
					x = 0;
					y++;
				}
			}
		} while (y <= img.getHeight());
		
	}// ends photoReader method

}
